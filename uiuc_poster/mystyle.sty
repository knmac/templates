\makeatletter
\usepackage{xspace}
\def\@onedot{\ifx\@let@token.\else.\null\fi\xspace}
\DeclareRobustCommand\onedot{\futurelet\@let@token\@onedot}

\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\Abs}[1]{\left\lvert#1\right\rvert}
\newcommand{\PartDev}[2]{\frac{\partial#1}{\partial #2}}
\newcommand{\Expect}[1]{\mathbb{E}\left(#1\right)}
\newcommand{\Set}[1]{\left\{#1\right\}}
\newcommand{\List}[1]{\left[#1\right]}
\newcommand{\thickhline}{\Xhline{3\arrayrulewidth}}

\newcommand{\bx}{{\mathbf{x}}}
\newcommand{\by}{{\mathbf{y}}}
\newcommand{\bz}{{\mathbf{z}}}
\newcommand{\br}{{\mathbf{r}}}
\newcommand{\bw}{{\mathbf{w}}}
\newcommand{\bh}{{\mathbf{h}}}
\newcommand{\bs}{{\mathbf{s}}}
\newcommand{\bu}{{\mathbf{u}}}
\newcommand{\ty}{{\tilde{y}}}
\newcommand{\hy}{{\hat y}}

% \newcommand{\beas}{\begin{eqnarray*}}
% \newcommand{\eeas}{\end{eqnarray*}}
% \newcommand{\bea}{\begin{eqnarray}}
% \newcommand{\eea}{\end{eqnarray}}
% \newcommand{\bes}{\begin{equation*}}
% \newcommand{\ees}{\end{equation*}}
% \newcommand{\be}{\begin{equation}}
% \newcommand{\ee}{\end{equation}}
% \newcommand{\cL}{{\cal L}}
% \newcommand{\KL}{\operatorname{KL}}
% \newcommand{\sE}{\mathbb{E}}
% \newcommand{\cN}{{\cal N}}
% \newcommand{\cC}{{\cal C}}
% \newcommand{\cY}{{\cal Y}}
% \newcommand{\cD}{{\cal D}}
% \newcommand{\cZ}{{\cal Z}}
% \newcommand{\cX}{{\cal X}}
% \newcommand{\cR}{{\cal R}}

\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator*{\argmax}{argmax}

\newcommand{\lambdax}{\lambda_\bx}
\newcommand{\lambdaz}{\lambda_\bz}

\newcommand{\pdiff}[2]{\frac{\partial {#1}}{\partial {#2}}}

\newtheorem{proposition}{Proposition}
\newtheorem{lemma-ap}{Lemma}
\newtheorem{definition}{Definition}
\newtheorem{corollary}{Corollary}
\newtheorem{claim}{Claim}
\newtheorem{claim-ap}{Claim}
\newtheorem{program}{Program}
\newtheorem{property}{Property}

\newcommand{\figref}[1]{Fig\onedot~\ref{#1}}
\newcommand{\equref}[1]{Eq\onedot~\eqref{#1}}
\newcommand{\secref}[1]{Sec\onedot~\ref{#1}}
\newcommand{\tabref}[1]{Tab\onedot~\ref{#1}}
\newcommand{\thmref}[1]{Theorem~\ref{#1}}
\newcommand{\prgref}[1]{Program~\ref{#1}}
\newcommand{\algref}[1]{Alg\onedot~\ref{#1}}
\newcommand{\clmref}[1]{Claim~\ref{#1}}
\newcommand{\lemref}[1]{Lemma~\ref{#1}}
\newcommand{\ptyref}[1]{Property\onedot~\ref{#1}}

\def\eg{\emph{e.g}\onedot} \def\Eg{\emph{E.g}\onedot}
\def\ie{\emph{i.e}\onedot} \def\Ie{\emph{I.e}\onedot}
\def\cf{\emph{cf}\onedot} \def\Cf{\emph{Cf}\onedot}
\def\etc{\emph{etc}\onedot} \def\vs{\emph{vs}\onedot}
\def\wrt{w.r.t\onedot} \def\dof{d.o.f\onedot}
\def\etal{\emph{et al}\onedot}

\newcommand{\NOTE}[1]{~\textcolor{red}{[NOTE: #1]}}